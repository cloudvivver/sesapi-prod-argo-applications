apiVersion: v1
data:
  # Public configuration values
  PI_DIGITAL_API_URL: "https://pidigital.pi.gov.br/api/assinatura-ws/assinatura"
  PI_KEYCLOAK_URL: "https://login.pi.gov.br"
  PI_LOGIN_SITE_URL: "https://login.pi.gov.br"
  # Secrets are loaded from app-secrets Secret via envFrom in deployment
  REDIS_HOST: redis
  REDIS_PORT: "6379"
  REDIS_DB: "0"
  DATABASE_POOL: "20"
  SENTRY_URL: "https://8a151ecbaf5abe9d9b714dc026ae7dd0@sentry.bigdatasys.net/7"
  # REDIS_URL injected from redis-credentials secret
  APP_HOST: "cuidarpi-bomjesus.bigdatasys.net"
  BUNDLE_JOBS: "4"
  BUNDLE_RETRY: "3"
  DATABASE_DEV: tenant_bomjesus_db
  DATABASE_HOST: dev-db-cuidar-new2.postgres.database.azure.com
  DATABASE_PORT: "6432"
  DATABASE_PROD: tenant_bomjesus_db
  DATABASE_TEST: tenant_bomjesus_db
  PGWEB_DATABASE_URL: postgres://postgres@db-3/tenant_bomjesus_db?sslmode=disable
  RAILS_MAX_THREADS: "8"
  WEB_CONCURRENCY: "2"
  SIDEKIQ_CONCURRENCY: "2"
  HYDRA_HOST: "https://regulapiaui.sesapi.pi.gov.br"
  DATABASE_BI_SESAPI: ""
  # Redis Optimizations
  REDIS_MAXMEMORY_POLICY: "allkeys-lfu"
  REDIS_TIMEOUT: "1"
  # Rails Cache Optimizations  
  RAILS_ACTION_CACHE: "true"
  RAILS_FRAGMENT_CACHE: "true"
  RAILS_CACHE_STORE: "configured"
  RAILS_CACHE_EXPIRES_IN: "configured"
  RAILS_DESKTOP_CACHE_TTL: "configured"
  # Database Optimizations
  DATABASE_INCLUDES_CACHE: "enabled"
kind: ConfigMap
metadata:
  labels:
    io.kompose.service: pgweb-env
  name: env
